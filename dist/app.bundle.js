!function(r){var n={};function e(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return r[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=r,e.c=n,e.d=function(r,n,t){e.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:t})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,n){if(1&n&&(r=e(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var o in r)e.d(t,o,function(n){return r[n]}.bind(null,o));return t},e.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(n,"a",n),n},e.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},e.p="",e(e.s=5)}([function(r,n,e){var t=e(1);"string"==typeof t&&(t=[[r.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(3)(t,o);t.locals&&(r.exports=t.locals)},function(r,n,e){(r.exports=e(2)(!1)).push([r.i,"* {\r\n    box-sizing: border-box;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\nbody {\r\n    font-family: 'Roboto', sans-serif;\r\n}\r\n\r\nul,\r\nbutton {\r\n    list-style: none;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    color: rgba(0, 0, 0, 0.541327);\r\n}\r\n\r\nh1{\r\n    font-size: 20px;\r\n}\r\n.wrapper {\r\n    width: 1440px;\r\n    margin: 0 auto;\r\n}\r\n\r\nul:nth-child(1) {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.size__button:hover,\r\nli:hover {\r\n    background-color: #ebe9e4;\r\n    cursor: pointer;\r\n}\r\n\r\n.wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.tools {\r\n    margin-bottom: 92px;\r\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.24), 0px 0px 4px rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.header {\r\n    align-items: center;\r\n    display: flex;\r\n    padding: 14px 16px;\r\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n}\r\n\r\ni.fas.fa-bars {\r\n    font-size: 30px;\r\n}\r\n\r\n.logo {\r\n    margin-right: 36px;\r\n    color: rgba(0, 0, 0, 0.54);\r\n}\r\n\r\n.instruments {\r\n    margin-left: 25px;\r\n    width: 15%;\r\n}\r\n\r\n.color {\r\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.24), 0px 0px 4px rgba(0, 0, 0, 0.12);\r\n}\r\n\r\nli {\r\n    display: flex;\r\n    padding: 12px 30px;\r\n    justify-content: flex-start;\r\n}\r\n\r\nul>li>img,\r\nul>li>div {\r\n    margin-right: 35px;\r\n}\r\n\r\n.shape {\r\n    margin-left: 1075px;\r\n}\r\n\r\n.color__circle {\r\n    border: 1px solid black;\r\n    border-radius: 50%;\r\n    width: 20px;\r\n    height: 20px;\r\n}\r\n\r\n.main {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.size {\r\n    margin-right: 25px;\r\n    display: flex;\r\n    width: 15%;\r\n    flex-direction: column;\r\n    border: 1px solid rgba(0, 0, 0, 0.541327);\r\n    height: fit-content;\r\n}\r\n\r\n.canvas {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.panel {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 9px;\r\n}\r\n\r\n.black_and_white, .town__load {\r\n    background: #00BCD4;\r\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.24), 0px 0px 2px rgba(0, 0, 0, 0.12);\r\n    border-radius: 2px;\r\n    padding: 12px;\r\n    border: none;\r\n    cursor: pointer;\r\n    color: #FFFFFF;\r\n}\r\n\r\n.black_and_white:hover, .town__load:hover{\r\n    box-sizing: border-box;\r\n    color:#00BCD4 ;\r\n    background: #FFFFFF;\r\n    border: 2px solid #00BCD4 transparent;\r\n}\r\n\r\n.search__town{\r\n    font-family: Roboto;\r\n    font-style: normal;\r\n    font-weight: normal;\r\n    font-size: 18px;\r\n    line-height: 21px;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\nform {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.town__load {\r\n    margin-right: 20px;\r\n}\r\n\r\n.size__button {\r\n    background-color: #ffffff;\r\n    padding: 15px;\r\n    cursor: pointer;\r\n    border: none;\r\n}\r\n\r\n#draw {\r\n    margin: 15px;\r\n    cursor: pointer;\r\n}\r\n\r\n#draw:hover {\r\n    color: black;\r\n    opacity: 0.6;\r\n}\r\n\r\n.main {\r\n    padding-top: 75px;\r\n}\r\n\r\n#canvas {\r\n    background-color: #8f8b8b;\r\n}\r\n\r\n.current-circle {\r\n    background-color: #c4c4c4;\r\n}\r\n\r\n.prev-circle {\r\n    background-color: #41F795;\r\n}\r\n\r\n.show-circle {\r\n    background-color: #F74141;\r\n}\r\n\r\n.show__prev-circle {\r\n    background-color: #41B6F7;\r\n}\r\n\r\n.active {\r\n    background: #ddd;\r\n}",""])},function(r,n,e){"use strict";r.exports=function(r){var n=[];return n.toString=function(){return this.map((function(n){var e=function(r,n){var e=r[1]||"",t=r[3];if(!t)return e;if(n&&"function"==typeof btoa){var o=(a=t,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=t.sources.map((function(r){return"/*# sourceURL="+t.sourceRoot+r+" */"}));return[e].concat(i).concat([o]).join("\n")}var a;return[e].join("\n")}(n,r);return n[2]?"@media "+n[2]+"{"+e+"}":e})).join("")},n.i=function(r,e){"string"==typeof r&&(r=[[null,r,""]]);for(var t={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(t[i]=!0)}for(o=0;o<r.length;o++){var a=r[o];null!=a[0]&&t[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),n.push(a))}},n}},function(r,n,e){var t,o,i={},a=(t=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=t.apply(this,arguments)),o}),c=function(r,n){return n?n.querySelector(r):document.querySelector(r)},s=function(r){var n={};return function(r,e){if("function"==typeof r)return r();if(void 0===n[r]){var t=c.call(this,r,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(r){t=null}n[r]=t}return n[r]}}(),l=null,u=0,d=[],f=e(4);function p(r,n){for(var e=0;e<r.length;e++){var t=r[e],o=i[t.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](t.parts[a]);for(;a<t.parts.length;a++)o.parts.push(x(t.parts[a],n))}else{var c=[];for(a=0;a<t.parts.length;a++)c.push(x(t.parts[a],n));i[t.id]={id:t.id,refs:1,parts:c}}}}function h(r,n){for(var e=[],t={},o=0;o<r.length;o++){var i=r[o],a=n.base?i[0]+n.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};t[a]?t[a].parts.push(c):e.push(t[a]={id:a,parts:[c]})}return e}function g(r,n){var e=s(r.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var t=d[d.length-1];if("top"===r.insertAt)t?t.nextSibling?e.insertBefore(n,t.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),d.push(n);else if("bottom"===r.insertAt)e.appendChild(n);else{if("object"!=typeof r.insertAt||!r.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(r.insertAt.before,e);e.insertBefore(n,o)}}function b(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r);var n=d.indexOf(r);n>=0&&d.splice(n,1)}function v(r){var n=document.createElement("style");if(void 0===r.attrs.type&&(r.attrs.type="text/css"),void 0===r.attrs.nonce){var t=function(){0;return e.nc}();t&&(r.attrs.nonce=t)}return m(n,r.attrs),g(r,n),n}function m(r,n){Object.keys(n).forEach((function(e){r.setAttribute(e,n[e])}))}function x(r,n){var e,t,o,i;if(n.transform&&r.css){if(!(i="function"==typeof n.transform?n.transform(r.css):n.transform.default(r.css)))return function(){};r.css=i}if(n.singleton){var a=u++;e=l||(l=v(n)),t=S.bind(null,e,a,!1),o=S.bind(null,e,a,!0)}else r.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(r){var n=document.createElement("link");return void 0===r.attrs.type&&(r.attrs.type="text/css"),r.attrs.rel="stylesheet",m(n,r.attrs),g(r,n),n}(n),t=_.bind(null,e,n),o=function(){b(e),e.href&&URL.revokeObjectURL(e.href)}):(e=v(n),t=k.bind(null,e),o=function(){b(e)});return t(r),function(n){if(n){if(n.css===r.css&&n.media===r.media&&n.sourceMap===r.sourceMap)return;t(r=n)}else o()}}r.exports=function(r,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=a()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=h(r,n);return p(e,n),function(r){for(var t=[],o=0;o<e.length;o++){var a=e[o];(c=i[a.id]).refs--,t.push(c)}r&&p(h(r,n),n);for(o=0;o<t.length;o++){var c;if(0===(c=t[o]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}};var y,w=(y=[],function(r,n){return y[r]=n,y.filter(Boolean).join("\n")});function S(r,n,e,t){var o=e?"":t.css;if(r.styleSheet)r.styleSheet.cssText=w(n,o);else{var i=document.createTextNode(o),a=r.childNodes;a[n]&&r.removeChild(a[n]),a.length?r.insertBefore(i,a[n]):r.appendChild(i)}}function k(r,n){var e=n.css,t=n.media;if(t&&r.setAttribute("media",t),r.styleSheet)r.styleSheet.cssText=e;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(e))}}function _(r,n,e){var t=e.css,o=e.sourceMap,i=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||i)&&(t=f(t)),o&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([t],{type:"text/css"}),c=r.href;r.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}},function(r,n){r.exports=function(r){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!r||"string"!=typeof r)return r;var e=n.protocol+"//"+n.host,t=e+n.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(r,n){var o,i=n.trim().replace(/^"(.*)"$/,(function(r,n){return n})).replace(/^'(.*)'$/,(function(r,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?r:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?e+i:t+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(r,n,e){"use strict";e.r(n);e(0);var t={tools:{pencil:!0,bucket:!1,picker:!1},colors:{current:"#c4c4c4",prev:"#41f795"},canvasSize:{width:0,height:0},blockSize:{width:0,height:0},api:{url:"https://api.unsplash.com/photos/random",key:"4dc7bf52cd0116045a1668d9c6809696591d70a85a44b56b005d4326e3e7bbee",img:new Image,isSet:!1}};var o=(r,n)=>{const e=n;e.canvasSize.width=r.width,e.canvasSize.height=r.height,e.blockSize.width=r.width/128,e.blockSize.height=r.height/128};var i=(r,n)=>{const e=n;r.addEventListener("mousemove",r=>{const{pencil:n}=t.tools,{width:o,height:i}=t.blockSize,{current:a}=t.colors,c=r.offsetX,s=r.offsetY;if(r.buttons>0&&n){const r=Math.floor(c/o)*o,n=Math.floor(s/i)*i;e.fillStyle=a,e.fillRect(r,n,o,i)}})};var a=(r,n,e)=>{const o=document.querySelector(".color"),i=document.querySelector('input[type="color"]'),a=(r=null)=>{const n=e.colors,t=document.querySelector(".color__current > .current-circle"),o=document.querySelector(".color__prev > .prev-circle"),i=n.current;r?(n.current=r,n.prev=i):(n.current=n.prev,n.prev=i),t.style.background=n.current,o.style.background=n.prev};i.addEventListener("change",r=>{a(r.target.value)}),o.addEventListener("click",r=>{const n=r.target;(n.classList.contains("color__current")||n.classList.contains("color__prev"))&&a(),(n.classList.contains("predefined__red")||n.classList.contains("predefined__blue"))&&a(n.getAttribute("data-color"))},!0),r.addEventListener("click",r=>{const{picker:e}=t.tools,o=r.offsetX,i=r.offsetY;if(e){const r=n.getImageData(o,i,1,1).data;a(`#${((r,n,e)=>[r,n,e].map(r=>{const n=r.toString(16);return 1===n.length?`0${n}`:n}).join(""))(...r)}`)}})};var c=r=>{const n=document.querySelector(".tools__color");n.addEventListener("click",e=>{const t=r.tools,o=e.target;[].forEach.call(n.children,r=>{r.classList.remove("active")}),"pencil"===o.getAttribute("data-tool")&&(t.pencil=!0,t.bucket=!1,t.picker=!1,o.classList.add("active")),"bucket"===o.getAttribute("data-tool")&&(t.pencil=!1,t.bucket=!0,t.picker=!1,o.classList.add("active")),"picker"===o.getAttribute("data-tool")&&(t.pencil=!1,t.bucket=!1,t.picker=!0,o.classList.add("active"))})};var s=(r,n,e)=>{n.addEventListener("click",()=>{const{bucket:n}=e.tools;if(n){const n=r,{width:t,height:o}=e.canvasSize,{current:i}=e.colors;n.fillStyle=i,n.fillRect(0,0,t,o)}})};var l=(r,n,e)=>{const{width:t,height:o}=e.canvasSize;if(localStorage.getItem("image")){const r=new Image;r.onload=()=>{n.clearRect(0,0,t,o),n.drawImage(r,0,0)},r.src=localStorage.getItem("image"),n.drawImage(r,0,0)}window.addEventListener("unload",()=>{localStorage.setItem("image",r.toDataURL())})};var u=r=>{const n=document.querySelector(".search__town"),e=document.querySelector(".town__load");e.addEventListener("click",e=>{e.preventDefault(),n.value&&(async(r,n)=>{const{url:e,key:o}=t.api,i=`${e}?query=${`town, ${r}`}&client_id=${o}`,a=await fetch(i),c=await a.json(),s=new Image;s.src=`${c.urls.small}`;const l=parseInt(c.width,10)/400;s.width=400,s.height=(parseInt(c.height,10)/l).toFixed(0),s.setAttribute("crossOrigin",""),setTimeout(()=>{((r,n,e)=>{const t=r;let o=0,i=0,a=0;const c=n.canvasSize.width,s=n.canvasSize.height;let l=t.width,u=t.height;l>u&&l<c?(l*=o=c/l,i=0,a=(s-(u*=o))/2):u>l&&u<s&&(u*=o=s/u,i=(c-(l*=o))/2,a=0),0!==o&&(t.onload=()=>{e.clearRect(0,0,c,s),e.drawImage(t,i,a,l,u)})})(s,t,n)},10)})(n.value,r)})};var d=r=>{const n=document.querySelector("#range"),e=document.querySelector(".px-size");n.addEventListener("change",n=>{((r,n)=>{const e=r;e.blockSize.width=e.canvasSize.width/n.target.value,e.blockSize.height=e.canvasSize.height/n.target.value})(r,n),e.innerText=n.target.value})};var f=(r,n)=>{const e=document.querySelector(".black_and_white");e.addEventListener("click",e=>{e.preventDefault(),(()=>{const{width:e,height:t}=n.canvasSize,o=r.getImageData(0,0,e,t),{data:i}=o;for(let r=e*t*4-1;r>0;r-=4){const n=.3*i[r-3]+.59*i[r-2]+.11*i[r-1];i[r-3]=n,i[r-2]=n,i[r-1]=n}r.putImageData(o,0,0)})()})};const p=document.getElementById("canvas"),h=p.getContext("2d");o(p,t),l(p,h,t),i(p,h),a(p,h,t),c(t),s(h,p,t),d(t),u(h),f(h,t)}]);
//# sourceMappingURL=app.bundle.js.map